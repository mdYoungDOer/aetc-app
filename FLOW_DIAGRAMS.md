# AETC 2026 - System Flow Diagrams

## 🎫 Ticket Purchase Flow Diagram

```
┌─────────────────────────────────────────────────────────────────┐
│                        TICKET PURCHASE FLOW                     │
└─────────────────────────────────────────────────────────────────┘

1. DISCOVERY PHASE
   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
   │   User      │    │ Registration│    │   Ticket    │
   │   Visits    │───▶│    Page     │───▶│   Cards     │
   │   Website   │    │             │    │   Display   │
   └─────────────┘    └─────────────┘    └─────────────┘
                                │
                                ▼
   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
   │   Ticket    │    │   "Buy Now" │    │  Purchase   │
   │ Selection   │◀───│   Button    │◀───│   Modal     │
   │             │    │   Clicked   │    │   Opens     │
   └─────────────┘    └─────────────┘    └─────────────┘

2. PURCHASE FORM
   ┌─────────────────────────────────────────────────────────────┐
   │                    PURCHASE MODAL                            │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Customer  │  │   Customer  │  │   Customer  │          │
   │  │    Name     │  │    Email    │  │    Phone    │          │
   │  │  (Required) │  │  (Required) │  │  (Required) │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │  Quantity   │  │   Terms &   │  │  "Proceed   │          │
   │  │  (1-10)     │  │ Conditions │  │  to Payment"│          │
   │  │             │  │ (Checkbox)  │  │   Button    │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    FORM VALIDATION                         │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Zod       │  │   Client    │  │   Server    │          │
   │  │  Schema     │  │ Validation  │  │ Validation  │          │
   │  │ Validation  │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

3. PAYMENT PROCESSING
   ┌─────────────────────────────────────────────────────────────┐
   │                    API CALL                                  │
   │  POST /api/tickets/initialize                               │
   │  ┌─────────────────────────────────────────────────────────┐ │
   │  │ {                                                       │ │
   │  │   "ticketId": "uuid",                                   │ │
   │  │   "quantity": 2,                                         │ │
   │  │   "customerName": "John Doe",                           │ │
   │  │   "customerEmail": "john@example.com",                 │ │
   │  │   "customerPhone": "+233123456789"                      │ │
   │  │ }                                                       │ │
   │  └─────────────────────────────────────────────────────────┘ │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    ORDER CREATION                          │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Create    │  │   Reserve   │  │  Generate   │          │
   │  │   Order     │  │   Stock     │  │  Paystack   │          │
   │  │  (Pending)  │  │(Optimistic) │  │ Reference   │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    PAYSTACK INITIALIZATION                  │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │  Convert    │  │   Create    │  │  Return     │          │
   │  │ Amount to   │  │  Payment    │  │Authorization│          │
   │  │  Pesewas    │  │   Request   │  │    URL      │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    PAYSTACK CHECKOUT                         │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   User      │  │   Payment    │  │   Complete  │          │
   │  │ Redirected  │  │   Details    │  │  Payment    │          │
   │  │   to        │  │   Entry     │  │             │          │
   │  │  Paystack   │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

4. PAYMENT VERIFICATION
   ┌─────────────────────────────────────────────────────────────┐
   │                    WEBHOOK PROCESSING                       │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │  Paystack   │  │  Verify     │  │  Update     │          │
   │  │  Webhook    │  │ Signature   │  │  Order     │          │
   │  │  Received   │  │             │  │  Status    │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    TICKET GENERATION                        │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │  Generate   │  │   Create    │  │   Send      │          │
   │  │   QR        │  │  User       │  │Confirmation │          │
   │  │   Codes     │  │  Tickets    │  │   Email     │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

5. ACCOUNT CREATION & OTP
   ┌─────────────────────────────────────────────────────────────┐
   │                    USER ACCOUNT                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │  Supabase   │  │   Send      │  │   User      │          │
   │  │  SignUp     │  │   OTP       │  │  Verifies  │          │
   │  │  (Auto)     │  │   Email     │  │   Code      │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    DASHBOARD ACCESS                         │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Account   │  │  Middleware │  │  Dashboard  │          │
   │  │ Activated   │  │  Check      │  │   Loaded    │          │
   │  │             │  │  Auth       │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

6. USER DASHBOARD
   ┌─────────────────────────────────────────────────────────────┐
   │                    DASHBOARD FEATURES                      │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   My        │  │   Profile   │  │   Orders    │          │
   │  │  Tickets    │  │   Tab       │  │   History   │          │
   │  │   Tab       │  │             │  │    Tab      │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   QR        │  │  Download   │  │   Ticket    │          │
   │  │   Code      │  │    PDF      │  │  Details    │          │
   │  │ Display     │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
```

---

## 🔧 Admin System Flow Diagram

```
┌─────────────────────────────────────────────────────────────────┐
│                        ADMIN SYSTEM FLOW                       │
└─────────────────────────────────────────────────────────────────┘

1. ADMIN AUTHENTICATION
   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
   │   Admin     │    │   Login     │    │  Supabase   │
   │   Visits    │───▶│    Page     │───▶│    Auth     │
   │  /auth/login│    │             │    │             │
   └─────────────┘    └─────────────┘    └─────────────┘
                                │
                                ▼
   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
   │   OTP       │    │   Email     │    │  Dashboard  │
   │Verification │◀───│   Sent     │◀───│   Access    │
   │             │    │             │    │             │
   └─────────────┘    └─────────────┘    └─────────────┘

2. MAIN DASHBOARD (/admin)
   ┌─────────────────────────────────────────────────────────────┐
   │                    ANALYTICS OVERVIEW                      │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Total     │  │   Tickets   │  │    Form     │          │
   │  │  Revenue    │  │    Sold     │  │Submissions  │          │
   │  │   (GHS)     │  │   Count     │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Active    │  │   Recent     │  │   Quick     │          │
   │  │   Users     │  │  Activity    │  │  Actions    │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    CHARTS & VISUALIZATIONS                  │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Ticket    │  │   Revenue   │  │    Form     │          │
   │  │Sales Chart  │  │Trend Chart  │  │Submissions  │          │
   │  │  (Bar)      │  │  (Line)     │  │   Chart     │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

3. PAGES MANAGEMENT (/admin/pages)
   ┌─────────────────────────────────────────────────────────────┐
   │                    PAGES LIST VIEW                         │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   All       │  │   Status    │  │   Last      │          │
   │  │   Pages     │  │Indicators   │  │ Modified    │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Author    │  │   Quick     │  │   Search    │          │
   │  │Information  │  │  Actions    │  │   & Filter │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    PAGE BUILDER                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Drag &    │  │   Live      │  │   Block    │          │
   │  │   Drop      │  │  Preview    │  │Configuration│          │
   │  │  Blocks     │  │   Mode     │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   SEO       │  │  Version    │  │   Save &    │          │
   │  │ Metadata    │  │  History    │  │  Publish    │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

4. FORMS MANAGEMENT (/admin/forms)
   ┌─────────────────────────────────────────────────────────────┐
   │                    FORMS LIST                               │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   All       │  │Submission  │  │   Last      │          │
   │  │   Forms     │  │  Counts    │  │ Activity   │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Status    │  │   Quick     │  │   Search    │          │
   │  │(Active/Inactive)│  Actions    │  │   & Filter │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    FORM BUILDER                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Drag      │  │   Field     │  │   Preview   │          │
   │  │  Fields     │  │Configuration│  │   Mode      │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │Validation   │  │   Styling   │  │   Save &    │          │
   │  │   Rules     │  │  Options    │  │  Activate   │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                SUBMISSIONS MANAGEMENT                       │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   View      │  │   Filter    │  │   Export    │          │
   │  │ All Submissions│  │  & Search  │  │   to CSV   │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Mark      │  │   Delete    │  │   Respond   │          │
   │  │Read/Unread  │  │Submissions  │  │   to        │          │
   │  │             │  │             │  │  Inquiries  │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

5. TICKETS MANAGEMENT (/admin/tickets)
   ┌─────────────────────────────────────────────────────────────┐
   │                    TICKET TYPES                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Create    │  │    Edit     │  │   Delete    │          │
   │  │   Ticket    │  │   Ticket    │  │   Ticket    │          │
   │  │   Type      │  │   Type      │  │   Type      │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Set       │  │   Stock     │  │   Features  │          │
   │  │  Pricing    │  │Management   │  │    List     │          │
   │  │  (GHS)      │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    STOCK MANAGEMENT                         │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │ Available   │  │  Reserved   │  │   Sold      │          │
   │  │ Quantity    │  │  Tickets    │  │   Count     │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Stock     │  │   Bulk      │  │   Stock     │          │
   │  │  Alerts     │  │  Updates    │  │  Reports    │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
                                │
                                ▼
   ┌─────────────────────────────────────────────────────────────┐
   │                    ORDERS OVERVIEW                           │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   All       │  │  Customer   │  │  Payment    │          │
   │  │  Orders     │  │  Details    │  │   Status    │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Order     │  │   Export    │  │   Filter    │          │
   │  │  History    │  │   to CSV    │  │  & Search   │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘

6. ANALYTICS & REPORTING
   ┌─────────────────────────────────────────────────────────────┐
   │                    ANALYTICS DASHBOARD                      │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Revenue   │  │   Sales     │  │    User     │          │
   │  │  Metrics    │  │ Analytics   │  │ Analytics   │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   │                                                             │
   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
   │  │   Export    │  │   Real-time │  │   Custom    │          │
   │  │Capabilities │  │  Updates    │  │  Reports    │          │
   │  │             │  │             │  │             │          │
   │  └─────────────┘  └─────────────┘  └─────────────┘          │
   └─────────────────────────────────────────────────────────────┘
```

---

## 🔄 System Integration Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                    SYSTEM INTEGRATION                          │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   Frontend  │    │   Backend   │    │  Database   │
│   (Next.js) │◀──▶│   (API)     │◀──▶│ (Supabase) │
└─────────────┘    └─────────────┘    └─────────────┘
       │                 │                 │
       ▼                 ▼                 ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   Paystack  │    │  SendGrid   │    │   Storage   │
│  (Payments) │    │   (Email)   │    │  (Assets)   │
└─────────────┘    └─────────────┘    └─────────────┘
       │                 │                 │
       ▼                 ▼                 ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  Webhooks   │    │  Templates  │    │    CDN      │
│ (Callbacks) │    │   (OTP)     │    │ (Delivery)  │
└─────────────┘    └─────────────┘    └─────────────┘
```

---

## 📱 Mobile Experience Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                    MOBILE EXPERIENCE                           │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   Mobile    │    │  Responsive │    │   Touch    │
│   First     │───▶│   Design    │───▶│ Friendly   │
│   Design    │    │             │    │ Interface  │
└─────────────┘    └─────────────┘    └─────────────┘
       │                 │                 │
       ▼                 ▼                 ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   Swipeable │    │   Optimized │    │   Fast      │
│    Tabs     │    │   Images    │    │  Loading    │
└─────────────┘    └─────────────┘    └─────────────┘
```

---

## 🔐 Security Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                        SECURITY LAYERS                         │
└─────────────────────────────────────────────────────────────────┘

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   Input     │    │   API       │    │  Database   │
│Validation   │───▶│ Protection  │───▶│   RLS       │
│  (Zod)      │    │             │    │ Policies    │
└─────────────┘    └─────────────┘    └─────────────┘
       │                 │                 │
       ▼                 ▼                 ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   XSS       │    │   Rate      │    │  Encryption  │
│ Protection  │    │ Limiting    │    │   at Rest    │
└─────────────┘    └─────────────┘    └─────────────┘
```

---

This comprehensive flow documentation provides a complete understanding of both the ticket purchase journey and admin system management for the AETC 2026 conference platform.
